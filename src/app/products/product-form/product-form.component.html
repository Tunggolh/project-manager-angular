<h1 class="my-auto mt-5 mb-3" style="font-weight: 700">
  {{ editMode ? "Edit Product" : "Add Product" }}
</h1>

<mat-card style="width: 100%; padding: 1rem">
  <form
    (submit)="onSubmit(f)"
    #f="ngForm"
    style="
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    "
  >
    <mat-form-field style="width: 100%">
      <mat-label>Product Name</mat-label>
      <input matInput name="name" [(ngModel)]="name" required />
    </mat-form-field>
    <mat-form-field style="width: 100%">
      <mat-label>Product Price</mat-label>
      <input matInput type="number" name="price" [(ngModel)]="price" required />
    </mat-form-field>
    <mat-form-field style="width: 100%">
      <mat-label>Product Image URL</mat-label>
      <input matInput name="imagePath" [(ngModel)]="imagePath" required />
    </mat-form-field>

    <img
      *ngIf="imagePath"
      mat-card-image
      [src]="imagePath"
      alt="{{ name ? name : 'product photo' }}"
      class="img-fluid mb-4"
      style="max-height: 300px"
    />

    <mat-form-field style="width: 100%">
      <mat-label>Product Description</mat-label>
      <textarea
        matInput
        rows="6"
        name="description"
        [(ngModel)]="description"
        required
      ></textarea>
    </mat-form-field>

    <div style="display: flex; justify-content: center; margin-top: 20px">
      <button
        mat-raised-button
        color="accent"
        style="margin-right: 10px"
        type="submit"
        [disabled]="!f.valid"
      >
        {{ editMode ? "Update" : "Submit" }}
      </button>
      <button mat-raised-button color="warn" (click)="onCancel()">
        Cancel
      </button>
    </div>
  </form>
</mat-card>
